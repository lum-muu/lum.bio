# å…§å®¹ç®¡ç†æŒ‡å—

> âš ï¸ æˆæ¬Šæé†’ï¼šè«‹ä¾ç…§ [Lum.bio Personal Source License](./LICENSE.md) ä½¿ç”¨æ­¤å…§å®¹ã€‚
> åœ–ç‰‡ã€æ–‡æ¡ˆèˆ‡ JSON è³‡æ–™åƒ…ä¾›å€‹äººç¶²ç«™é‹ä½œèˆ‡åƒè€ƒï¼Œç¦æ­¢å¦è¡Œå…¬é–‹ç™¼ä½ˆæˆ–å•†æ¥­åŒ–ã€‚

## ğŸš€ å¿«é€Ÿé–‹å§‹

### æ·»åŠ æ–°å…§å®¹çš„ç°¡å–®æ­¥é©Ÿ

1. **åœ¨æ–‡ä»¶ç³»çµ±ä¸­æ·»åŠ å…§å®¹**
   - åœ–ç‰‡ï¼šæ”¾åˆ° `public/content/homepage/` æˆ–å­æ–‡ä»¶å¤¾
   - æ–‡æœ¬æ–‡ä»¶ï¼šæ”¾åˆ° `public/content/homepage/` ï¼ˆ.txt æˆ– .mdï¼‰
   - æ–‡ä»¶å¤¾ï¼šåœ¨ `public/content/homepage/` å‰µå»ºæ–°æ–‡ä»¶å¤¾

2. **åŒæ­¥åˆ°ç¶²ç«™**
   ```bash
   npm run cms
   ```

3. **å®Œæˆï¼** ğŸ‰
   - é–‹ç™¼ç’°å¢ƒæœƒè‡ªå‹•æ›´æ–°ï¼ˆå¦‚æœæ­£åœ¨é‹è¡Œ `npm run dev`ï¼‰
   - ä¸éœ€è¦é‡å•Ÿé–‹ç™¼æœå‹™å™¨

---

## ğŸ“ ç›®éŒ„çµæ§‹

```
public/content/homepage/
â”œâ”€â”€ About.txt              # ç¨ç«‹é é¢
â”œâ”€â”€ Contact.txt            # ç¨ç«‹é é¢
â”œâ”€â”€ featured/              # æ–‡ä»¶å¤¾ï¼ˆæœƒåœ¨ç¶²ç«™é¡¯ç¤ºï¼‰
â”‚   â”œâ”€â”€ metadata.json      # å¯é¸ï¼šæ–‡ä»¶å¤¾è¨­ç½®
â”‚   â””â”€â”€ image1.jpg         # åœ–ç‰‡ä½œå“
â””â”€â”€ sketches/              # å¦ä¸€å€‹æ–‡ä»¶å¤¾
    â”œâ”€â”€ 2025/              # å­æ–‡ä»¶å¤¾ï¼ˆæ”¯æŒåµŒå¥—ï¼‰
    â”‚   â””â”€â”€ sketch.png
    â””â”€â”€ metadata.json
```

---

## ğŸ¨ ä½¿ç”¨ metadata.json é…ç½®

### æ–‡ä»¶å¤¾è¨­ç½®

åœ¨æ–‡ä»¶å¤¾ä¸­å‰µå»º `metadata.json` ä¾†é…ç½®ï¼š

```json
{
  "folder": {
    "name": "ç²¾é¸ä½œå“",
    "description": "æˆ‘æœ€å–œæ­¡çš„ä½œå“é›†",
    "order": 1
  },
  "items": {
    "image1.jpg": {
      "title": "è§’è‰²è¨­è¨ˆ",
      "description": "åŸå‰µè§’è‰²è¨­è¨ˆ",
      "date": "2025-01-15",
      "tags": ["character", "original"],
      "order": 1
    }
  }
}
```

### é…ç½®é¸é …èªªæ˜

**æ–‡ä»¶å¤¾ (folder)**:
- `name`: é¡¯ç¤ºåç¨±ï¼ˆé è¨­ä½¿ç”¨æ–‡ä»¶å¤¾åï¼‰
- `description`: æè¿°æ–‡å­—
- `order`: æ’åºé †åºï¼ˆæ•¸å­—è¶Šå°è¶Šé å‰ï¼‰

**ä½œå“é …ç›® (items)**:
- `title`: ä½œå“æ¨™é¡Œ
- `description`: ä½œå“æè¿°
- `date`: æ—¥æœŸï¼ˆæ ¼å¼ï¼šYYYY-MM-DDï¼‰
- `tags`: æ¨™ç±¤æ•¸çµ„
- `order`: åœ¨æ–‡ä»¶å¤¾å…§çš„æ’åº

---

## ğŸ“ æ–‡ä»¶é¡å‹

### æ”¯æŒçš„åœ–ç‰‡æ ¼å¼
- `.png`, `.jpg`, `.jpeg`, `.webp`, `.gif`, `.svg`

### æ”¯æŒçš„æ–‡æœ¬æ ¼å¼
- `.txt` - é¡¯ç¤ºç‚ºæ–‡æœ¬æ–‡ä»¶åœ–æ¨™
- `.md` - Markdown æ–‡ä»¶ï¼ˆæœƒè½‰æ›ç‚ºç´”æ–‡æœ¬ï¼‰

---

## ğŸ”„ å¸¸ç”¨å‘½ä»¤

| å‘½ä»¤ | èªªæ˜ |
|------|------|
| `npm run cms` | åŒæ­¥å…§å®¹åˆ°ç¶²ç«™ï¼ˆè‡ªå‹•ç”Ÿæˆ JSON ä¸¦èšåˆæ•¸æ“šï¼‰|
| `npm run sync` | åŒ `npm run cms` |
| `npm run dev` | å•Ÿå‹•é–‹ç™¼æœå‹™å™¨ |
| `npm run build` | æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬ï¼ˆæœƒè‡ªå‹•åŒæ­¥å…§å®¹ï¼‰|

---

## ğŸ’¡ æç¤ºèˆ‡æŠ€å·§

### 1. è‡ªå‹•æ’åº
- æ²’æœ‰è¨­ç½® `order` æ™‚ï¼š
  - æ–‡ä»¶å¤¾æŒ‰å­—æ¯é †åºå€’åºï¼ˆZ-Aï¼‰ï¼Œæ–°æ–‡ä»¶å¤¾åœ¨å‰
  - åœ–ç‰‡æŒ‰æ—¥æœŸå€’åºï¼Œæ–°çš„åœ¨å‰
  - æ–‡æœ¬æŒ‰å­—æ¯é †åº

### 2. æ–‡ä»¶å‘½åå»ºè­°
- ä½¿ç”¨æœ‰æ„ç¾©çš„æ–‡ä»¶åï¼ˆæœƒä½œç‚ºé è¨­æ¨™é¡Œï¼‰
- åœ–ç‰‡ï¼š`2025-01-15-character-design.jpg`
- æ–‡æœ¬ï¼š`About.txt`, `Contact.txt`

### 3. æ–‡ä»¶å¤¾çµæ§‹
- æ”¯æŒç„¡é™å±¤ç´šåµŒå¥—
- å­æ–‡ä»¶å¤¾æœƒè‡ªå‹•è¢«æª¢æ¸¬
- å¯ä»¥åœ¨ä¸»é æˆ–ä»»ä½•æ–‡ä»¶å¤¾ä¸­æ”¾ç½®å…§å®¹

### 4. é–‹ç™¼æµç¨‹
```bash
# 1. å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
npm run dev

# 2. åœ¨å¦ä¸€å€‹çµ‚ç«¯æ·»åŠ å…§å®¹å¾Œé‹è¡Œ
npm run cms

# 3. ç€è¦½å™¨è‡ªå‹•åˆ·æ–°é¡¯ç¤ºæ–°å…§å®¹
```

---

## ğŸ› å¸¸è¦‹å•é¡Œ

### Q: æ·»åŠ æ–‡ä»¶å¾Œç¶²ç«™æ²’æ›´æ–°ï¼Ÿ
A: é‹è¡Œ `npm run cms` åŒæ­¥å…§å®¹

### Q: åœ–ç‰‡æ²’æœ‰é¡¯ç¤ºï¼Ÿ
A: ç¢ºèªï¼š
1. åœ–ç‰‡åœ¨ `public/content/homepage/` å…§
2. æ–‡ä»¶æ ¼å¼æ­£ç¢ºï¼ˆ.jpg, .png ç­‰ï¼‰
3. å·²é‹è¡Œ `npm run cms`

### Q: å¦‚ä½•åˆªé™¤å…§å®¹ï¼Ÿ
A:
1. åˆªé™¤ `public/content/homepage/` ä¸­çš„æ–‡ä»¶/æ–‡ä»¶å¤¾
2. é‹è¡Œ `npm run cms` é‡æ–°åŒæ­¥

### Q: å¯ä»¥åœ¨é–‹ç™¼æ™‚ç†±æ›´æ–°å—ï¼Ÿ
A: ç•¶å‰éœ€è¦æ‰‹å‹•é‹è¡Œ `npm run cms`ï¼Œä½†é–‹ç™¼æœå‹™å™¨æœƒè‡ªå‹•æª¢æ¸¬ `_aggregated.json` çš„è®ŠåŒ–

---

## ğŸ“¦ æŠ€è¡“ç´°ç¯€

### æ•¸æ“šæµç¨‹
```
public/content/homepage/
    â†“ npm run cms
src/content/*.json (ç”Ÿæˆçš„ JSON é…ç½®)
    â†“ è‡ªå‹•åŸ·è¡Œ
src/content/_aggregated.json (èšåˆæ•¸æ“š)
    â†“ Vite å°å…¥
React æ‡‰ç”¨é¡¯ç¤ºå…§å®¹
```

### ç”Ÿæˆçš„æ–‡ä»¶
- `src/content/folders/*.json` - æ–‡ä»¶å¤¾å®šç¾©
- `src/content/images/*.json` - åœ–ç‰‡ä½œå“
- `src/content/pages/*.json` - æ–‡æœ¬é é¢
- `src/content/_aggregated.json` - èšåˆçš„æ‰€æœ‰æ•¸æ“šï¼ˆç”¨æ–¼ç”Ÿç”¢ç’°å¢ƒï¼‰

---

## ğŸ¯ ç¤ºä¾‹ï¼šæ·»åŠ æ–°ä½œå“é›†

```bash
# 1. å‰µå»ºæ–°æ–‡ä»¶å¤¾
mkdir public/content/homepage/commissions-2025

# 2. æ·»åŠ åœ–ç‰‡
cp ~/Downloads/artwork1.jpg public/content/homepage/commissions-2025/

# 3. ï¼ˆå¯é¸ï¼‰å‰µå»ºé…ç½®
cat > public/content/homepage/commissions-2025/metadata.json << 'EOF'
{
  "folder": {
    "name": "2025 å§”è¨—ä½œå“",
    "order": 1
  },
  "items": {
    "artwork1.jpg": {
      "title": "è§’è‰²å§”è¨—",
      "date": "2025-01-10",
      "tags": ["commission", "character"]
    }
  }
}
EOF

# 4. åŒæ­¥
npm run cms

# å®Œæˆï¼è¨ªå• http://localhost:5173 æŸ¥çœ‹
```

---

éœ€è¦æ›´å¤šå¹«åŠ©ï¼ŸæŸ¥çœ‹ `/scripts/cms.js` çš„æºä»£ç¢¼æˆ–åƒè€ƒç¾æœ‰å…§å®¹çµæ§‹ã€‚
